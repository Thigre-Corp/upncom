{# templates/admin/fields/association_image.html.twig #}

{% set associated_entity = field.value %}
{% set image_path = associated_entity.mediaURL %}
{% set entity_label = field.value %} {#associated_entity|easyadmin_entity_label %#}
{% set default_path = asset('images/default.png') %}

{% if associated_entity is not null %}
    <span class="ea-thumbnail-association-field">
        {% if image_path is not empty %}
            <img src="{{ asset('assets/uploads/' ~ image_path) }}" 
                alt="{{ entity_label }}" 
                style="max-width: 50px; max-height: 50px; border-radius: 4px; margin-right: 8px;">
        {% else %}
            {# Image par défaut si aucune image n'est définie #}
            <img src="{{ default_path }}" 
                    alt="{{ entity_label }}" 
                    style="max-width: 50px; max-height: 50px; border-radius: 4px; margin-right: 8px;">
        {% endif %}
        
        {# Afficher le nom de l'entité à côté de la miniature (optionnel) #}
        {{ entity_label }} 
    </span>
{% else %}
    <span class="badge badge-secondary">{{ 'label.empty'|trans({}, 'EasyAdminBundle') }}</span>
{% endif %}